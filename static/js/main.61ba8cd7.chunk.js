(this["webpackJsonpdon-gitto"]=this["webpackJsonpdon-gitto"]||[]).push([[0],{27:function(e,t,a){e.exports=a(88)},32:function(e,t,a){},34:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),l=(a(32),a(26)),i=a(25),u=a(1),o=a.n(u),p=a(2);a(34);function m(e){var t=e.children;return r.a.createElement("div",{className:"error-msg"},t)}function f(){return r.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 30.239 30.239",className:"icon"},r.a.createElement("path",{d:"M20.194,3.46c-4.613-4.613-12.121-4.613-16.734,0c-4.612,4.614-4.612,12.121,0,16.735\r c4.108,4.107,10.506,4.547,15.116,1.34c0.097,0.459,0.319,0.897,0.676,1.254l6.718,6.718c0.979,0.977,2.561,0.977,3.535,0\r c0.978-0.978,0.978-2.56,0-3.535l-6.718-6.72c-0.355-0.354-0.794-0.577-1.253-0.674C24.743,13.967,24.303,7.57,20.194,3.46z\r M18.073,18.074c-3.444,3.444-9.049,3.444-12.492,0c-3.442-3.444-3.442-9.048,0-12.492c3.443-3.443,9.048-3.443,12.492,0\r C21.517,9.026,21.517,14.63,18.073,18.074z"}))}function v(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),c=a[0],s=a[1],l=e.searchOrganization,i=e.error,u=e.limitsRespawnDate;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),l(c)}},r.a.createElement("input",{type:"text",id:"search",className:"search-input",placeholder:"Find GitHub organization",value:c,onChange:function(e){s(e.target.value)},required:!0}),r.a.createElement("button",{className:"search-button",type:"submit"},r.a.createElement(f,null))),i&&r.a.createElement(m,null,"You have exceded request limits. They will be renewed on"," ",u))}function g(e){var t=e.searchOrganization,a=e.error,n=e.limitsRespawnDate;return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"title"},"Don Gitto"),r.a.createElement(v,{searchOrganization:t,error:a,limitsRespawnDate:n}))}function h(){return r.a.createElement("svg",{className:"loading-icon",xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 128 128"},r.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"#FFFFFF"}),r.a.createElement("g",null,r.a.createElement("linearGradient",{id:"linear-gradient"},r.a.createElement("stop",{offset:"0%",stopColor:"#ffffff",fillOpacity:"0"}),r.a.createElement("stop",{offset:"100%",stopColor:"#242488",fillOpacity:"1"})),r.a.createElement("path",{d:"M63.85 0A63.85 63.85 0 1 1 0 63.85 63.85 63.85 0 0 1 63.85 0zm.65 19.5a44 44 0 1 1-44 44 44 44 0 0 1 44-44z",fill:"url(#linear-gradient)",fillRule:"evenodd"}),r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 64 64",to:"360 64 64",dur:"1080ms",repeatCount:"indefinite"})))}function d(e){var t=e.users,a=e.organization;return r.a.createElement(r.a.Fragment,null,!!t.length&&r.a.createElement("h3",null,"User list"),!!a&&!t.length&&r.a.createElement("h3",null,"The organization has no users"),r.a.createElement("ul",{className:"user-list"},t.map((function(e){var t=e.id,a=e.login,n=e.activity;return r.a.createElement("li",{className:"user",key:t},r.a.createElement("span",{className:"user-login"},a),r.a.createElement("div",{className:"user-activity"},n&&r.a.createElement("span",null,"activity: ",n.type),n&&r.a.createElement("span",null,"repository: ",n.repo),n&&r.a.createElement("span",null,"date: ",n.date),null===n&&r.a.createElement("span",null,"User has no public activity"),!n&&null!==n&&r.a.createElement(h,null)))}))))}function b(e){var t=e.pagination,a=e.searchOrganizationUsers,n=e.orgName,c=t.prev,s=t.next;return r.a.createElement("div",null,c&&r.a.createElement("button",{className:"pagination-btn",onClick:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a(n,c);case 1:case"end":return e.stop()}}))}},"Previous page"),s&&r.a.createElement("button",{className:"pagination-btn",onClick:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a(n,s);case 1:case"end":return e.stop()}}))}},"Next page"))}var w=a(7),E=a.n(w),x=function(e){var t,a,n,r,c,s;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=new E.a,l.next=3,o.a.awrap(t.search.users({q:"".concat(e,"+type:org")}));case 3:if(a=l.sent,n=a.data,r=n.total_count,c=n.items,0!==r){l.next=7;break}return l.abrupt("return","");case 7:return s=c[0].login,l.abrupt("return",s);case 9:case"end":return l.stop()}}))},y=function(e,t){var a,n,r,c,s,l,i;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=new E.a,u.next=3,o.a.awrap(a.orgs.listMembers({org:e,page:t}));case 3:return n=u.sent,r=n.data,c=n.headers,s=c.link,l=s?k(s):null,i=r.map((function(e){return{id:e.id,login:e.login}})),u.abrupt("return",{users:i,links:l});case 9:case"end":return u.stop()}}))},O=function(e){var t,a,n,r,c,s;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=new E.a,l.next=3,o.a.awrap(t.activity.listEventsForUser({username:e}));case 3:if(a=l.sent,n=a.data,r=Object(p.a)(n,1),c=r[0]){l.next=8;break}return l.abrupt("return",null);case 8:return s=new Date(c.created_at).toLocaleString(),l.abrupt("return",{type:c.type,repo:c.repo.name,date:s});case 10:case"end":return l.stop()}}))},N=function(){var e,t,a,n,r;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=new E.a,c.next=3,o.a.awrap(e.rateLimit.get());case 3:if(t=c.sent,a=t.data.resources,n=a.core,r=a.search,0!==n.remaining){c.next=7;break}return c.abrupt("return",new Date(1e3*n.reset));case 7:if(0!==r.remaining){c.next=9;break}return c.abrupt("return",new Date(1e3*r.reset));case 9:return c.abrupt("return",null);case 10:case"end":return c.stop()}}))},k=function(e){return e.split(",").map((function(e){var t=/^(.*)\?page=(\d+)>; rel="(.*)"\s*$/gm.exec(e);if(null===t)return{pageNumber:"",label:""};var a=Object(p.a)(t,4);return{pageNumber:a[2],label:a[3]}})).filter((function(e){return"prev"===e.label||"next"===e.label})).reduce((function(e,t){return e[t.label]=t.pageNumber,e}),{})};var j=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),u=Object(p.a)(s,2),m=u[0],f=u[1],v=Object(n.useState)(!1),h=Object(p.a)(v,2),w=h[0],E=h[1],k=Object(n.useState)(null),j=Object(p.a)(k,2),z=j[0],F=j[1],D=Object(n.useState)({prev:null,next:null}),S=Object(p.a)(D,2),C=S[0],R=S[1],U=function(e){var t,a;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,o.a.awrap(N());case 4:t=e.sent,a=null===t?null:t.toLocaleString(),F(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error:",e.t0);case 12:case"end":return e.stop()}}),null,null,[[0,9]])},B=function(e){var t,a,n,r,s=arguments;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:1,u.prev=1,u.next=4,o.a.awrap(y(e,t));case 4:a=u.sent,n=a.users,r=a.links,c(n),null!==r&&R(r),n.forEach((function(e,t){var a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(O(e.login));case 3:a=n.sent,c((function(e){var n=Object(i.a)(e);return n[t]=Object(l.a)({},n[t],{activity:a}),n})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),U(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(1),U(u.t0);case 15:case"end":return u.stop()}}),null,null,[[1,12]])},M=function(){E(!1),R({prev:null,next:null}),c([])};return r.a.createElement("div",{className:"App"},r.a.createElement(g,{searchOrganization:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,M(),a.next=4,o.a.awrap(x(e));case 4:return t=a.sent,f(t),a.next=8,o.a.awrap(B(t));case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),U(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])},error:w,limitsRespawnDate:z}),m&&r.a.createElement("h2",{className:"organization"},"Organization: ",m),r.a.createElement(d,{users:a,organization:m}),r.a.createElement(b,{pagination:C,orgName:m,searchOrganizationUsers:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.61ba8cd7.chunk.js.map